<p-toast></p-toast>
<div *ngIf="isLoading$()" class="overlay">
    <div class="spinner-container">
        <p-progressSpinner strokeWidth="4"></p-progressSpinner>
    </div>
</div>
<div>
    <div class="h-5 bg-gray-500 flex justify-content-between align-items-center p-3">
        <h1 class="text-xl font-bold text-white tracking-wide uppercase">Depo App</h1>
        <div class="flex  align-items-center gap-3">
            <app-currency [icon]="'pi pi-dollar'" [rate]="(1/currencies.USD | number:'1.3-3') || ''"></app-currency>
            <app-currency [icon]="'pi pi-pound'" [rate]="(1/currencies.GBP | number:'1.3-3') || ''"></app-currency>
            <app-currency [icon]="'pi pi-euro'" [rate]="(1/currencies.EUR | number:'1.3-3') || ''"></app-currency>
        </div>
        <div>
            <input type="text" pInputText (input)="search($event)" placeholder="Ürün Ara" />
        </div>
    </div>

    <div *ngIf="stores as stores;else emptyTable" class="flex flex-wrap justify-content-around">
        <div *ngFor="let store of stores;let i = index">
            <table #child [search]="searchTerm" [store]="store" (restoreDataEvent)="getData()"></table>
        </div>
    </div>
    <ng-template #emptyTable>
        <div class="flex flex-wrap ">
            <table [search]="searchTerm" [store]="{id:0,title:'Depo A'}" (restoreDataEvent)="getData()"></table>
        </div>
    </ng-template>
</div>